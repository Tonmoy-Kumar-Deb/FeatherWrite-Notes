<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apply for Work - FeatherWrite Notes</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
  background:linear-gradient(135deg,#e3f2fd,#bbdefb,#90caf9);
  padding:20px;
}
h2{color:#01579b;margin-bottom:12px;text-align:center}
.section{background:rgba(255,255,255,0.25);backdrop-filter:blur(12px);padding:16px;margin-bottom:16px;border-radius:18px;box-shadow:0 10px 30px rgba(2,119,189,0.3)}
label{display:block;margin:8px 0 4px;color:#014f86;font-weight:600}
input,select{width:100%;padding:10px;border-radius:10px;border:1px solid #4fc3f7;margin-bottom:8px}
button{width:100%;padding:14px;border:none;border-radius:18px;background:linear-gradient(145deg,#fff,#c8e6ff);color:#014f86;font-weight:700;font-size:1.1em;cursor:pointer;transition:0.2s}
button:hover{transform:translateY(-3px)}
table{width:100%;border-collapse:collapse;margin-bottom:12px}
th,td{border:1px solid #4fc3f7;padding:8px;text-align:center;color:#014f86}
footer{text-align:center;margin-top:20px;color:#01579b;font-weight:600}
.charge-table{margin-bottom:20px;background:rgba(255,255,255,0.15);padding:10px;border-radius:12px;box-shadow:0 8px 20px rgba(2,119,189,0.2)}
</style>
</head>
<body>
<button style="position: absolute; top: 20px; left: 20px; padding: 8px 16px; border-radius: 8px; font-size: 0.9em; background: #4fc3f7; color: white; border: none; cursor: pointer; width: auto; display: inline-block;" onclick="history.back()">Back</button>

<h2>Apply for Work</h2>

<br><br>

<form id="workForm">

  <!-- Personal Details -->
  <div class="section">
    <h3>Personal Details</h3>
    <label for="name">Name</label><input type="text" id="name" required>
    <label for="department">Department</label><input type="text" id="department" required>
    <label for="course">Course</label><input type="text" id="course" required>
    <label for="section">Section (Optional)</label><input type="text" id="section">
    <label for="roll">Roll Number (10 digits)</label><input type="text" id="roll" maxlength="10" required pattern="\d{10}">
    <label for="semester">Semester</label><input type="text" id="semester" required>
    <label for="whatsapp">WhatsApp Number (10 digits)</label><input type="text" id="whatsapp" maxlength="10" required pattern="\d{10}">
  </div>

  <!-- Work Details -->
  <div class="section">
    <h3>Work Details</h3>
    <label for="numWorks">Number of Works (1-3)</label>
    <select id="numWorks" required>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
    </select>

    <table id="workTable">
      <thead>
        <tr>
          <th>Work #</th>
          <th>Type</th>
          <th>Subject</th>
          <th>Format</th>
        </tr>
      </thead>
      <tbody>
        <!-- Rows generated dynamically -->
      </tbody>
    </table>
  </div>
<!-- Charges Table (outside container) -->
<div class="charge-table">
  <h3>Additional Work Charges</h3>
  <table>
    <thead>
      <tr>
        <th>Work Type</th>
        <th>Top & Left Border</th>
        <th>All Side Border</th>
        <th>Page Number</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Handwritten</td>
        <td>Free</td>
        <td>₹14.00</td>
        <td>₹9.00</td>
      </tr>
      <tr>
        <td>Printed</td>
        <td>Free</td>
        <td>₹7.00</td>
        <td>₹4.00</td>
      </tr>
    </tbody>
  </table>
</div>
  <!-- Additional Work -->
  <div class="section">
    <h3>Additional Work Options</h3>
    <div id="additionalOptions">
      <!-- Options generated dynamically per work -->
    </div>
  </div>

  <button type="submit">Submit</button>
</form>

<footer>Send your sample in the WhatsApp number</footer>

<script>
// ===== Generate work rows =====
const numWorksSelect = document.getElementById("numWorks");
const workTableBody = document.getElementById("workTable").querySelector("tbody");
const additionalOptionsDiv = document.getElementById("additionalOptions");

function generateWorkRows(){
  workTableBody.innerHTML="";
  const count = parseInt(numWorksSelect.value);
  for(let i=1;i<=count;i++){
    const row = document.createElement("tr");
    row.innerHTML=`
      <td>${i}</td>
      <td>
        <select class="typeWork" required>
  <option value="Practical Copy">Practical Copy</option>
  <option value="Assignment">Assignment</option>
</select>
      </td>
      <td><input type="text" class="subjectName" required></td>
      <td>
        <select class="format" required>
          <option value="Handwritten">Handwritten</option>
          <option value="Printed">Printed</option>
        </select>
      </td>
    `;
    workTableBody.appendChild(row);
  }
}

// ===== Generate additional options =====
function generateAdditionalOptions(){
  additionalOptionsDiv.innerHTML="";
  const count = parseInt(numWorksSelect.value);
  for(let i=1;i<=count;i++){
    const div = document.createElement("div");
    div.style.marginBottom="12px";
    div.innerHTML = `
      <h4>Work ${i} - Additional Options</h4>
      <label>Border Charges</label>
      <select class="border">
        <option value="none">No Border</option>
        <option value="top-left">Top & Left (Free)</option>
        <option value="all">All Sides (Charge Applied)</option>
      </select>
      <label>Page Numbering</label>
      <select class="pageNumber">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    `;
    additionalOptionsDiv.appendChild(div);
  }
}

// Generate both work rows and additional options
function generateAll(){
  generateWorkRows();
  generateAdditionalOptions();
}

numWorksSelect.addEventListener("change", generateAll);
window.onload = generateAll;

// ===== Form submission =====
document.getElementById("workForm").addEventListener("submit", function(e){
  e.preventDefault();

  // Personal details
  const name = document.getElementById("name").value;
  const department = document.getElementById("department").value;
  const course = document.getElementById("course").value;
  const section = document.getElementById("section").value;
  const roll = document.getElementById("roll").value;
  const semester = document.getElementById("semester").value;
  const whatsapp = document.getElementById("whatsapp").value;

  // Work details
  const works = [];
  const workRows = workTableBody.querySelectorAll("tr");
  const additionalRows = additionalOptionsDiv.querySelectorAll("div");

  workRows.forEach((row,i)=>{
    const type = row.querySelector(".typeWork").value;
    const subject = row.querySelector(".subjectName").value;
    const format = row.querySelector(".format").value;
    const border = additionalRows[i].querySelector(".border").value;
    const pageNumber = additionalRows[i].querySelector(".pageNumber").value;
    works.push({type,subject,format,border,pageNumber});
  });

  // Token number
  const token = Math.floor(10000000 + Math.random()*90000000);

  // WhatsApp message
  let msg=`*FeatherWrite Notes - Work Submission*\nToken: ${token}\nName: ${name}\nDepartment: ${department}\nCourse: ${course}\nSection: ${section}\nRoll: ${roll}\nSemester: ${semester}\nWhatsApp: ${whatsapp}\n\n`;
  works.forEach((w,i)=>{
    msg+=`Work ${i+1}:\nType: ${w.type}\nSubject: ${w.subject}\nFormat: ${w.format}\nBorder: ${w.border}\nPage Number: ${w.pageNumber}\n\n`;
  });

  const waURL = `https://wa.me/916901983382?text=${encodeURIComponent(msg)}`;  window.open(waURL,"_blank");
  alert(`Your token number is ${token}. Use it to check your status and payments.`);
});
</script>

</body>
</html>