<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FeatherWrite Notes - Owner</title>
  <style>
  header button.btn-secondary {
  padding: 6px 12px;
  font-size: 0.8em;
  border-radius: 8px;
  width: 80px; /* Adjust this value to your preferred width */
  min-width: 60px; /* Ensures button doesn’t shrink too much */
  max-width: 100px; /* Ensures button doesn’t grow too wide */
}
  /* Stationery Items */
.stationery-item {
  position: absolute;
  width: 40px;
  height: 40px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.2;
  z-index: 1;
  animation: float 12s infinite ease-in-out alternate;
}

.pen {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055670.png');
  animation-delay: 0s;
}
.notebook {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055688.png');
  animation-delay: 2s;
}
.ruler {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055682.png');
  animation-delay: 4s;
}
.pencil {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055671.png');
  animation-delay: 6s;
}
.eraser {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055672.png');
  animation-delay: 8s;
}
.highlighter {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055673.png');
  animation-delay: 10s;
}
.stapler {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055674.png');
  animation-delay: 12s;
}
.scissors {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055675.png');
  animation-delay: 14s;
}
.tape {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055676.png');
  animation-delay: 16s;
}
.glue {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055677.png');
  animation-delay: 18s;
}
.marker {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055678.png');
  animation-delay: 20s;
}
.calculator {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055679.png');
  animation-delay: 22s;
}
.clipboard {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055680.png');
  animation-delay: 24s;
}
.folder {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055681.png');
  animation-delay: 26s;
}
.paperclip {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055683.png');
  animation-delay: 28s;
}
.stapler2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055674.png');
  animation-delay: 30s;
}
.scissors2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055675.png');
  animation-delay: 32s;
}
.tape2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055676.png');
  animation-delay: 34s;
}
.glue2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055677.png');
  animation-delay: 36s;
}
.marker2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055678.png');
  animation-delay: 38s;
}
.calculator2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055679.png');
  animation-delay: 40s;
}
.clipboard2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055680.png');
  animation-delay: 42s;
}
.folder2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055681.png');
  animation-delay: 44s;
}
.paperclip2 {
  background-image: url('https://cdn-icons-png.flaticon.com/512/1055/1055683.png');
  animation-delay: 46s;
}

@keyframes float {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }
  25% {
    transform: translate(20px, 15px) rotate(10deg);
  }
  50% {
    transform: translate(10px, -10px) rotate(-5deg);
  }
  75% {
    transform: translate(-15px, 10px) rotate(15deg);
  }
  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      background:linear-gradient(135deg,#e3f2fd,#bbdefb,#90caf9);
      min-height:100vh;
      margin:0;
      overflow-x:hidden;
    }
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      background:rgba(1,87,155,0.9);
      color:white;
      padding:12px 20px;
      position:fixed;
      top:0;left:0;right:0;
      z-index:100;
      backdrop-filter:blur(6px);
    }
    .logo{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo svg{width:36px;height:36px}
    .company-name{
      font-size:1.3em;
      font-weight:700;
    }
    main{
      padding:80px 16px 24px;
      max-width:600px;
      margin:0 auto;
    }
    .cards{
      display:flex;
      flex-direction:column;
      gap:16px;
    }
    .card {
  background: rgba(255,255,255,0.8);
  border-radius: 20px;
  padding: 18px 16px;
  box-shadow: 0 14px 32px rgba(2,119,189,0.35);
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 10; /* Ensures cards appear above stationery items */
  position: relative; /* Required for z-index to work */
}
    .card-title{
      font-size:1.1em;
      font-weight:700;
      color:#01579b;
    }
    .card-desc{
      font-size:0.85em;
      color:#0277bd;
      margin-top:4px;
    }
    .card button{
      padding:10px 16px;
      border-radius:999px;
      border:none;
      font-size:0.9em;
      font-weight:700;
      background:linear-gradient(135deg,#4fc3f7,#01579b);
      color:white;
      box-shadow:0 10px 24px rgba(2,119,189,0.4);
      cursor:pointer;
    }
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.45);
      display:none;
      justify-content:center;
      align-items:flex-start;
      padding:80px 0 20px;
      z-index:999;
      overflow-y:auto;
    }
    .popup{
      width:90%;
      max-width:360px;
      max-height:calc(100vh - 120px);
      overflow-y:auto;
      background:rgba(255,255,255,0.25);
      border-radius:22px;
      border:1px solid rgba(255,255,255,0.7);
      backdrop-filter:blur(18px);
      box-shadow:0 22px 55px rgba(2,119,189,0.5);
      padding:20px 18px 18px;
      animation:pop .35s ease;
    }
    @keyframes pop{
      from{transform:scale(0.9);opacity:0}
      to{transform:scale(1);opacity:1}
    }
    .popup h2{
      font-size:1.15em;
      color:#01579b;
      text-align:center;
      margin-bottom:8px;
    }
    .popup p{
      font-size:0.85em;
      color:#0277bd;
      text-align:center;
      margin-bottom:10px;
    }
    .field{
      margin-top:8px;
    }
    .field label{
      display:block;
      font-size:0.8em;
      font-weight:600;
      color:#01579b;
      margin-bottom:3px;
    }
    .field input,
    .field select{
      width:100%;
      padding:8px 10px;
      border-radius:12px;
      border:1px solid #90caf9;
      font-size:0.9em;
      outline:none;
      background:rgba(255,255,255,0.9);
    }
    .popup-buttons{
      margin-top:14px;
      display:flex;
      gap:10px;
    }
    .btn-main,
    .btn-secondary{
      flex:1;
      padding:10px;
      border-radius:16px;
      border:none;
      font-size:0.95em;
      font-weight:700;
      cursor:pointer;
    }
    .btn-main{
      background:linear-gradient(135deg,#4fc3f7,#01579b);
      color:white;
      box-shadow:0 10px 26px rgba(2,119,189,0.45);
    }
    .btn-secondary{
      background:rgba(255,255,255,0.9);
      color:#01579b;
      border:1px solid rgba(144,202,249,0.9);
    }
    small.note{
      display:block;
      margin-top:10px;
      font-size:0.8em;
      color:#014f86;
      text-align:center;
    }
    @media(max-width:480px){
      .card{flex-direction:column;align-items:flex-start;gap:8px;}
      .card button{align-self:flex-end;}
    }
  </style>
</head>
<body>
  <!-- Stationery Items -->
<div class="stationery-item pen" style="top:10%;left:15%"></div>
<div class="stationery-item notebook" style="top:20%;left:70%"></div>
<div class="stationery-item ruler" style="top:60%;left:25%"></div>
<div class="stationery-item pencil" style="top:80%;left:60%"></div>
<div class="stationery-item eraser" style="top:15%;left:40%"></div>
<div class="stationery-item highlighter" style="top:35%;left:10%"></div>
<div class="stationery-item stapler" style="top:50%;left:80%"></div>
<div class="stationery-item scissors" style="top:75%;left:35%"></div>
<div class="stationery-item tape" style="top:45%;left:55%"></div>
<div class="stationery-item glue" style="top:25%;left:20%"></div>
<div class="stationery-item marker" style="top:65%;left:75%"></div>
<div class="stationery-item calculator" style="top:85%;left:10%"></div>
<div class="stationery-item clipboard" style="top:30%;left:65%"></div>
<div class="stationery-item folder" style="top:55%;left:45%"></div>
<div class="stationery-item paperclip" style="top:70%;left:10%"></div>
<div class="stationery-item stapler2" style="top:40%;left:30%"></div>
<div class="stationery-item scissors2" style="top:60%;left:60%"></div>
<div class="stationery-item tape2" style="top:20%;left:50%"></div>
<div class="stationery-item glue2" style="top:80%;left:20%"></div>
<div class="stationery-item marker2" style="top:10%;left:75%"></div>
<div class="stationery-item calculator2" style="top:50%;left:15%"></div>
<div class="stationery-item clipboard2" style="top:35%;left:40%"></div>
<div class="stationery-item folder2" style="top:75%;left:50%"></div>
<div class="stationery-item paperclip2" style="top:45%;left:25%"></div>
  <header>
  <div class="logo">
    <svg viewBox="0 0 64 64" fill="none">
      <defs>
        <linearGradient id="featherGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#01579b"/>
          <stop offset="100%" stop-color="#4fc3f7"/>
        </linearGradient>
      </defs>
      <path d="M52 4 C34 6 18 18 12 32 C8 40 10 50 20 56 C28 60 40 56 44 48 C46 42 42 36 36 34 C28 32 22 36 18 42"
            stroke="url(#featherGradient)" stroke-width="3" stroke-linecap="round"/>
      <path d="M36 10 C30 22 24 34 16 48"
            stroke="url(#featherGradient)" stroke-width="2"/>
    </svg>
    <div class="company-name">FeatherWrite Notes</div>
  </div>
  <button class="btn-secondary" style="padding:6px 12px;font-size:0.8em;border-radius:8px;" onclick="signOut()">Sign Out</button>
</header>

  <main>
    <div class="cards">
      <div class="card">
        <div>
          <div class="card-title">Advance Payment</div>
          <div class="card-desc">Send 40% advance details to customer.</div>
        </div>
        <button onclick="openPopup('advance')">Open</button>
      </div>
      <div class="card">
        <div>
          <div class="card-title">Final Payment</div>
          <div class="card-desc">Send remaining payment details.</div>
        </div>
        <button onclick="openPopup('final')">Open</button>
      </div>
      <div class="card">
        <div>
          <div class="card-title">Receipt</div>
          <div class="card-desc">Share full receipt & ask for screenshot.</div>
        </div>
        <button onclick="openPopup('receipt')">Open</button>
      </div>
    </div>
  </main>

  <div class="overlay" id="overlay">
    <div class="popup" id="popup">
      <h2 id="popupTitle">Advance Payment</h2>
      <p id="popupSubtitle">Fill the details and send to WhatsApp.</p>

      <div class="field">
        <label for="token">Token Number</label>
        <input id="token" type="text" placeholder="e.g. 55781510">
      </div>
      <div class="field">
        <label for="phone">WhatsApp Number (with country code)</label>
        <input id="phone" type="tel" placeholder="e.g. 918765432101">
      </div>
      <div class="field">
        <label for="works">Number of Works</label>
        <input id="works" type="number" min="1" placeholder="e.g. 3">
      </div>
      <div class="field">
        <label for="pageNum">Page Numbering</label>
        <select id="pageNum">
          <option value="Charged">Charged</option>
          <option value="Not Charged">Not Charged</option>
        </select>
      </div>
      <div class="field">
        <label for="border">Border</label>
        <select id="border">
          <option value="Charged">Charged</option>
          <option value="Not Charged">Not Charged</option>
        </select>
      </div>
      <div class="field">
        <label for="totalAmount">Total Amount (₹)</label>
        <input id="totalAmount" type="number" min="0" step="1" placeholder="e.g. 500">
      </div>
      <div class="field" id="advanceField">
        <label for="advanceAmount">Advance Amount (40%) (₹)</label>
        <input id="advanceAmount" type="number" min="0" step="1" placeholder="auto or manual">
      </div>
      <div class="field" id="paidAdvanceField" style="display:none;">
        <label for="paidAdvance">Advance Amount (Already Paid) (₹)</label>
        <input id="paidAdvance" type="number" min="0" step="1">
      </div>
      <div class="field" id="finalField" style="display:none;">
        <label for="finalAmount">Final Amount (Already Paid) (₹)</label>
        <input id="finalAmount" type="number" min="0" step="1">
      </div>

      <div class="popup-buttons">
        <button class="btn-secondary" onclick="closePopup()">Cancel</button>
        <button class="btn-main" onclick="sendToWhatsApp()">Send</button>
      </div>
      <small class="note" id="noteText">
        Message will open in WhatsApp. You just tap send.
      </small>
    </div>
  </div>

<script>
  let currentMode = 'advance'; // 'advance' | 'final' | 'receipt'
  
  // Auto-calculate advance and final amounts
  document.getElementById('totalAmount').addEventListener('input', function() {
    const total = parseFloat(this.value) || 0;
    const advance = Math.round(total * 0.4);
    const final = total - advance;
    
    // Auto-fill advance and final amounts
    document.getElementById('advanceAmount').value = advance;
    document.getElementById('paidAdvance').value = advance;
    document.getElementById('finalAmount').value = final;
  });
  
  function openPopup(mode) {
    currentMode = mode;
    
    const title = document.getElementById('popupTitle');
    const subtitle = document.getElementById('popupSubtitle');
    const note = document.getElementById('noteText');
    const advanceField = document.getElementById('advanceField');
    const paidAdvanceField = document.getElementById('paidAdvanceField');
    const finalField = document.getElementById('finalField');
    
    // reset visibility
    advanceField.style.display = 'block';
    paidAdvanceField.style.display = 'none';
    finalField.style.display = 'none';
    
    if (mode === 'advance') {
      title.textContent = 'Advance Payment';
      subtitle.textContent = 'Send 40% advance details to customer.';
      note.textContent = 'After payment, ask the customer to send the payment screenshot for verification.';
    } else if (mode === 'final') {
      title.textContent = 'Final Payment';
      subtitle.textContent = 'Send remaining amount details.';
      note.textContent = 'After final payment, ask the customer to send the payment screenshot for verification.';
      advanceField.style.display = 'none';
      paidAdvanceField.style.display = 'block';
      finalField.style.display = 'block';
      // Update label for final amount in final payment
      document.querySelector('#finalField label').textContent = 'Final Amount (₹)';
    } else {
      title.textContent = 'Receipt';
      subtitle.textContent = 'Share complete payment receipt.';
      note.textContent = 'This is only the final receipt detail for the customer.';
      advanceField.style.display = 'none';
      paidAdvanceField.style.display = 'block';
      finalField.style.display = 'block';
      // Update label for final amount in receipt
      document.querySelector('#finalField label').textContent = 'Final Amount (Already Paid) (₹)';
    }
    
    document.getElementById('overlay').style.display = 'flex';
  }
  
  function closePopup() {
    document.getElementById('overlay').style.display = 'none';
  }
  
  function sendToWhatsApp() {
    const token = document.getElementById('token').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const works = document.getElementById('works').value.trim();
    const pageNum = document.getElementById('pageNum').value;
    const border = document.getElementById('border').value;
    const total = document.getElementById('totalAmount').value.trim();
    const advance = document.getElementById('advanceAmount').value.trim();
    const paidAdvance = document.getElementById('paidAdvance').value.trim();
    const finalAmount = document.getElementById('finalAmount').value.trim();
    
    if (!token || !phone || !works || !total) {
      alert('Please fill token, WhatsApp number, number of works and total amount.');
      return;
    }
    
    let message = `FeatherWrite Notes
Token: ${token}
Works: ${works}
Page Numbering: ${pageNum}
Border: ${border}
Total Amount: ₹${total}
`;
    
    if (currentMode === 'advance') {
      const adv = advance || Math.round(Number(total) * 0.4);
      message += `
Advance (40%): ₹${adv}

Please pay the advance amount to confirm your work.
After payment, please send the payment screenshot here for verification.`;
    } else if (currentMode === 'final') {
      message += `Advance Already Paid: ₹${paidAdvance || '0'}
Final Amount: ₹${finalAmount || '0'}

Please pay the final amount to complete your order.
After payment, please send the payment screenshot here for verification.`;
    } else { // receipt
      message += `Advance Paid: ₹${paidAdvance || '0'}
Final Amount Paid: ₹${finalAmount || '0'}

This is your payment receipt for FeatherWrite Notes.`;
    }
    
    const url = `https://wa.me/${encodeURIComponent(phone)}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  }
  
  document.getElementById('overlay').addEventListener('click', e => {
    if (e.target.id === 'overlay') closePopup();
  });
  function signOut() {
  window.location.href = '/index.html';
}
</script>
</body>
</html>